<div
  class="sidebar d-flex flex-column"
  [class.collapsed]="isCollapsed"
  style="width: 280px"
>
  <div class="p-2 text-end">
    <button class="btn btn-sm btn-outline-secondary" (click)="toggleSidebar()">
      <svg
        *ngIf="isCollapsed"
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-chevron-bar-right"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M3 8a.5.5 0 0 1 .5-.5h8.793L9.146 4.354a.5.5 0 1 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L12.293 8.5H3.5A.5.5 0 0 1 3 8z"
        />
      </svg>
      <svg
        *ngIf="!isCollapsed"
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-chevron-bar-left"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M13 8a.5.5 0 0 0-.5-.5H3.707l3.647-3.646a.5.5 0 0 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L3.707 8.5H12.5A.5.5 0 0 0 13 8z"
        />
      </svg>
    </button>
  </div>

  <!-- User Profile -->
  <div class="user-profile p-3 text-center" *ngIf="!isCollapsed">
    <h6 class="mb-1 fw-semibold">Usuario</h6>
    <p class="text-muted small mb-2">Coordinador de Cuidados</p>
    <span class="status-online d-inline-flex align-items-center ps-3"
      >En línea</span
    >
  </div>

  <!-- Navigation Menu -->
  <nav class="flex-grow-1 p-3">
    <!-- Principal Section -->
    <div class="mb-4">
      <h6 class="nav-section-title px-2" *ngIf="!isCollapsed">Principal</h6>
      <ul class="list-unstyled">
        <li class="mb-1">
          <a
            routerLink="/dashboard"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'dashboard'"
            (click)="setActive('dashboard')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <rect x="3" y="3" width="7" height="7" />
              <rect x="14" y="3" width="7" height="7" />
              <rect x="14" y="14" width="7" height="7" />
              <rect x="3" y="14" width="7" height="7" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Dashboard</span>
          </a>
        </li>
        <li class="mb-1">
          <a
            routerLink="/dashboard/registerelder"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'register-elderly'"
            (click)="setActive('register-elderly')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
              <circle cx="9" cy="7" r="4" />
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Registrar Anciano</span>
          </a>
        </li>
        <li class="mb-1">
          <a
            routerLink="/dashboard/registeractivity"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'register-activity'"
            (click)="setActive('register-activity')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
              <line x1="16" y1="2" x2="16" y2="6" />
              <line x1="8" y1="2" x2="8" y2="6" />
              <line x1="3" y1="10" x2="21" y2="10" />
              <path d="M8 14h.01" />
              <path d="M12 14h.01" />
              <path d="M16 14h.01" />
              <path d="M8 18h.01" />
              <path d="M12 18h.01" />
              <path d="M16 18h.01" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed"
              >Registrar Actividad</span
            >
          </a>
        </li>
        <li class="mb-1">
          <a
            routerLink="/dashboard/eldersprescription"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'register-prescription'"
            (click)="setActive('register-prescription')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M8 2v20M16 2v20M3 8h18M3 16h18" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Registrar Receta</span>
          </a>
        </li>
        <li class="mb-1">
          <a
            routerLink="/dashboard/eldersdiet"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'register-diet'"
            (click)="setActive('register-diet')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M4 4h16v2H4z" />
              <path d="M4 10h16v2H4z" />
              <path d="M4 16h16v2H4z" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Registrar Dieta</span>
          </a>
        </li>
        <li class="mb-1">
          <a
            routerLink="/dashboard/elderevent"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'register-event'"
            (click)="setActive('register-event')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <circle cx="12" cy="12" r="10" />
              <path d="M12 6v6l4 2" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Registrar Evento</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Gestión Section -->
    <div class="mb-4">
      <h6 class="nav-section-title px-2" *ngIf="!isCollapsed">Gestión</h6>
      <ul class="list-unstyled">
        <li class="mb-1">
          <a
            routerLink="/dashboard/elderlist"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'residents'"
            (click)="setActive('residents')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
              <circle cx="12" cy="7" r="4" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Lista de ancianos</span>
          </a>
        </li>

        <li class="mb-1">
          <a
            routerLink="/dashboard/activitieslist"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'activities'"
            (click)="setActive('activities')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <circle cx="12" cy="12" r="3" />
              <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">
              Lista de actividades
            </span>
          </a>
        </li>
        <li class="mb-1">
          <a
            routerLink="/dashboard/eventlist"
            class="nav-link d-flex align-items-center"
            [class.active]="activeSection === 'event-list'"
            (click)="setActive('event-list')"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M3 6h18M3 12h18M3 18h18" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Lista de eventos</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Sistema Section -->
    <div class="mb-4">
      <h6 class="nav-section-title px-2" *ngIf="!isCollapsed">Sistema</h6>
      <ul class="list-unstyled">
        <li class="mb-1">
          <a
            href="#"
            (click)="logout()"
            class="nav-link d-flex align-items-center"
          >
            <svg
              class="nav-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
              <polyline points="16,17 21,12 16,7" />
              <line x1="21" y1="12" x2="9" y2="12" />
            </svg>
            <span class="nav-text" *ngIf="!isCollapsed">Cerrar Sesión</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</div>
